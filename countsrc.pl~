#! /usr/bin/perl

sub countsrc()
{
"countsrc.pl" 79 lines, 1168 characters
sub countsrc()
{
    my( $topdir, $resdir ) = @_;
    create_flist( $topdir );
    count_flist( );
}

sub cleanup_dir()
{
    my( $dir ) = @_;
    if ( -d "$dir" ) {
        system( "rm -rf $dir" );
    }
    system( "mkdir -p $dir" );
}

$RESBASE="countsrc_resultes";

sub main()
{
    $srctop = $ENV{'SRC_DIR'};
    if ( "$srctop" eq "" ) {
        $srctop = "./";
    }
    if ( "$topdir" ne "" ) {
        $srctop = $topdir;
    }

    $resdir = $ENV{'RES_DIR'};
    if ( "$resdir" eq "" ) {
        $resdir = "./$RESBASE/";
    }

    cleanup_dir( $resdir );
    #countsrc( $srctop );
}

main;
